# Introduction

- In this work, we propose a foundational image-based Android malware
detection approach that converts the sequence of raw byte code contained in
the DEX file(s) into a simple grey-scale “vector” image of size (1, 128*128).
Features extraction and classification are assigned to a 1-dimensional-based
convolutional neural network model.

# Data preparation
- The dataset being used is CICMalDroid 2020 which could be download in [here](https://www.unb.ca/cic/datasets/maldroid-2020.html)
# Installation

## Generate images
- To generate images from APK files, pass all the APKs to the script Apk_image_transfer.py. 
- The input of the script are: APK to convert into image + path in which the resulting image will be
- The output will be: A greyscale image representing the Dalvik bytecode
- Example: 
```
python3 apktoimage.py APK DESTINATION 
```
## Training model
- Using images from the former step to train the model by running the Model.py script.  The training, validation and test hashes are provided in data_splits directory.
- Example: 
```
python3 DexRay.py -p "dataset_images" -d "results_dir" -f "results_dir/scores.txt"
```
# Usage
- We already prepare a Google Colab demo for you to use the code: [![Open In Colab](https://colab.research.google.com/assets/colab-badge.svg)](https://colab.research.google.com/drive/1Ji7cmoxGHK2dCJhhn8Bcd_j0cEROrgj_?authuser=3#scrollTo=D9b0LnxOfvpo)
- Before using it, put your check point in GG Drive to following this structure /content/drive/MyDrive/ANM/Result
- Our check point could be download right [here](https://drive.google.com/drive/folders/1U2-veNRir6TRsWScoJ2lycLcpoZh_NEu?usp=sharing).

